{% load static %}
<!DOCTYPE html>
<html>
    <head>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2078305498601771"
     	crossorigin="anonymous"></script>
	<script data-cfasync="false" src="//d2vwl2vhlatm2f.cloudfront.net/?vlwvd=959274"></script>
        <title>Rust BaseFinder</title>
        <!-- bootstrap cdn -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
        <link rel="stylesheet" href="{% static "stylesheet.css" %}?v=71" type="text/css">
        <script src="https://www.w3schools.com/lib/w3.js"></script>
        <script>
            $(document).ready(function(){
                $('[data-toggle="popover"]').popover({
                    placement : 'top',
                    trigger : 'hover'
                });
            });
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108812754-4"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-108812754-4');
        </script>
        <link rel="shortcut icon" href="{% static "favicon.ico" %}" type="image/x-icon">
        <link rel="icon" href="{% static "favicon.ico" %}" type="image/x-icon">
        <meta content='maximum-scale=1.0, initial-scale=1.0, width=device-width' name='viewport'>
        <script type="text/javascript">
          window._mNHandle = window._mNHandle || {};
          window._mNHandle.queue = window._mNHandle.queue || [];
          medianet_versionId = "3121199";
        </script>
        <script src="https://contextual.media.net/dmedianet.js?cid=8CU682C6F" async="async"></script>
    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">
              <img class="logoImage" width="30" height="30" src="{% static "Logo.png" %}">
              RUST BASEFINDER
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav ml-auto">
                {% if user.is_authenticated %}
                <li class="nav-item">
                  <a class="nav-link" href="/log_out">Log Out</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/submit">Add a Design</a>
                </li>
                {% else %}
                <li class="nav-item">
                  <a class="nav-link" href="/log_in">Log In</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/sign_up">Sign Up</a>
                </li>
                {% endif %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Leaderboards
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <a class="dropdown-item" href="/efficiency_leaderboard">Efficiency Leaderboard</a>
                      <a class="dropdown-item" href="/defense_leaderboard">Defense Leaderboard</a>
                      <a class="dropdown-item" href="/all_bases">All Designs</a>
                    </div>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/about">About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/sponsor">Advertise</a>
                </li>
            </ul>
            </div>
        </div>
      </nav>

          <br>
          <div class="container">
            <h4><a target="_blank" href="{{ link }}">{{ name }}</a><small> - Created by {{ creator }}</small></h4>
            <div class="row">
              <div class="col-sm-7">
                <br>
                <style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class='embed-container'><iframe src='https://www.youtube.com/embed/{{ video_code }}' frameborder='0' allowfullscreen></iframe></div>
                <br>
                <h5>Base Statistics</h5>
                <table class="table">
                  <tr>
                    <th scope="row">Fortify Link</th>
                    <td>{{ fortify_link |safe}}</td>
                  </tr>
                  <tr>
                    <th scope="row">Group Size</th>
                    <td>{{ group_size }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Build Cost</th>
                    <td>{{ cost_stone }} Stone <br> {{ cost_frags }} Frags <br> {{ cost_hqm }} HQM</td>
                  </tr>
                  <tr>
                    <th scope="row">Upkeep Cost (24h)</th>
                    <td>{{ upkeep_stone }} Stone <br> {{ upkeep_frags }} Frags <br> {{ upkeep_hqm }} HQM</td>
                  </tr>
                  <tr>
                    <th scope="row">Rockets to TC</th>
                    <td>{{ raid_cost }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Tags/Features</th>
                    <td><button type="button" class="btn btn-secondary tag-btn">{{ feature_1 }}</button><br><button type="button" class="btn btn-secondary tag-btn">{{ feature_2 }}</button><br><button type="button" class="btn btn-secondary tag-btn">{{ feature_3 }}</button></td>
                  </tr>
                </table>
              </div>
              <div class="col-sm-5">
                <br>
                {% if user.is_authenticated %}
                <div class="ratingForm ratingBox">
                  <h5>Rate this Base:</h5>
                  <form action="/base_id/{{ id }}/" method="post">
                    {% csrf_token %}
                    <div class="starsSection">
                      <fieldset class="rating">
                          <input name="stars" id="demo-1" type="radio" name="demo" value="1"> 
                          <label for="demo-1">1 star</label>
                          <input name="stars" id="demo-2" type="radio" name="demo" value="2">
                          <label for="demo-2">2 stars</label>
                          <input name="stars" id="demo-3" type="radio" name="demo" value="3">
                          <label for="demo-3">3 stars</label>
                          <input name="stars" id="demo-4" type="radio" name="demo" value="4">
                          <label for="demo-4">4 stars</label>
                          <input name="stars" id="demo-5" type="radio" name="demo" value="5">
                          <label for="demo-5">5 stars</label>
                          
                          <div class="stars">
                              <label for="demo-1" aria-label="1 star" title="1 star"></label>
                              <label for="demo-2" aria-label="2 stars" title="2 stars"></label>
                              <label for="demo-3" aria-label="3 stars" title="3 stars"></label>
                              <label for="demo-4" aria-label="4 stars" title="4 stars"></label>
                              <label for="demo-5" aria-label="5 stars" title="5 stars"></label>   
                          </div> 
                      </fieldset>
                      <script>
                          (function(){
                              var rating = document.querySelector('.rating');
                              var handle = document.getElementById('toggle-rating');
                              handle.onchange = function(event) {
                                  rating.classList.toggle('rating', handle.checked);
                              };
                          }());
                      </script>
                    </div>
                    <textarea type="text" name="content" maxlength="512" required="" id="id_content" class="form-control"></textarea>
                    <br>
                    <input class="btn btn-primary btn-search-form" type="submit" value="Submit">
                  </form>
                </div>
                {% else %}
                <h5>Please <a href="/log_in">Log In</a> or <a href="/sign_up">Sign Up</a> to leave a rating of this base.</h5>
                {% endif %}
                <br>
                <div class="ratingSection">
                  <h4>Ratings:</h4> 
                  <h5><small><span class="yellowstars">Overall Score: {{ averageStars |safe}}</span></small></h5>
                  {% for i in ratingList %}
                  <div class="ratingBox">
                    <h5><span class="yellowstars">{{ i.stars |safe}}</span><small> {{ i.reviewer }}</small></h5>
                    <p>{{ i.content }} </p>
                  </div>
                  {% endfor %}
                </div>
                <br>
              </div>
            </div>
          </div>

          <footer>
            <div class="container">
              <br>
              <div class="row">
                <div class="col-sm-3">
                  <h4>Disclaimer</h4>
                  <p>Rust Basefinder is simply a collection of YouTube videos. We have no intellectual right over the videos linked on our site, and similarly we are not responsible for any of the views or actions presented in videos linked on this site.</p>
                </div>
                <div class="col-sm-3">
                  <h4>Contact</h4>
                  <p>To contact Ethan LeSage, the creator of this site, please join our Discord: <a href="https://discord.gg/yXBE9cf">https://discord.gg/yXBE9cf</a></p>
                </div>
                <div class="col-sm-6">
                  <h4>Rules</h4>
                  <p>Currently anyone can post to this site, however if rules are broken we may need to limit who is allowed to post. The rules currently are:</p>
                  <ul>
                    <li>No profanity is to be posted anywhere to the site.</li>
                    <li>You are not to lie about raid cost, build cost or upkeep cost.</li>
                    <li>'Extra Features' must be kept short.</li>
                  </ul>
                  <p>We reserve the right to remove base submissions at will.</p>
                </div>
              </div>
            </div>
          </footer>
    </body>
</html>